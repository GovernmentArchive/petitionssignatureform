<?php

/**
 * @file
 * Provides a form for signing petitions.
 */

/**
 * The machine name of the Petitions PHP SDK library.
 */
define('PETITIONSSIGNATUREFORM_SDK', 'petitions-php-sdk');

/**
 * Implements hook_libraries_info().
 */
function petitionssignatureform_libraries_info() {
  $libraries[PETITIONSSIGNATUREFORM_SDK] = array(
    'name' => 'Petitions PHP SDK',
    'vendor url' => 'https://github.com/WhiteHouse/petitions-php-sdk',
    'download url' => 'https://github.com/WhiteHouse/petitions-php-sdk/releases',
    'version arguments' => array(
      'file' => 'petitions_php_sdk.php',
      'pattern' => '/@version ([\d\.]+)/',
    ),
    'files' => array(
      'php' => array('petitions_php_sdk.php'),
    ),
  );
  return $libraries;
}

/**
 * Implements hook_menu().
 */
function petitionssignatureform_menu() {
  $items = array();

  $items['admin/config/services/petitionssignatureform'] = array(
    'title' => 'Petitions Signature Form',
    'description' => 'Configure petitions signature forms.',
    'page callback' => 'drupal_get_form',
    'page arguments' => array('petitionssignatureform_admin_settings_form'),
    'access arguments' => array('administer petitionssignatureform'),
    'file' => 'petitionssignatureform.admin.inc',
  );

  return $items;
}

/**
 * Implements hook_permission().
 */
function petitionssignatureform_permission() {
  return array(
    'administer petitionssignatureform' => array(
      'title' => t('Administer Petitions Signature Form'),
    ),
  );
}
